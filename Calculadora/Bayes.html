<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teorema de Bayes</title>
  <link rel="stylesheet" href="Estilo.css" />
</head>
<body>
  <header class="topbar">
    <img src="Imagenes/logo.png" alt="Logo" class="logo" />
    <a href="Acerca.html" class="about-btn">Acerca de</a>
    <a href="Indice.html" class="home-btn">Inicio</a>

    <h1>Teorema de Bayes</h1>

    </p>
  </header>

  <main class="container">

    <!-- concepto de bayes -->
    <section class="card">
      <h2>Concepto del teorema de Bayes</h2>
      <p>
        El teorema de Bayes permite actualizar la probabilidad de un evento
        <strong>A</strong> cuando se observa un evento relacionado
        <strong>B</strong> (la evidencia). A partir de una probabilidad
        inicial o <em>a priori</em> y de las probabilidades en cada rama del árbol,
        obtenemos una probabilidad <em>a posteriori</em> P(A | B).
      </p>

      <div class="formula-box">
        <img src="Imagenes/bayes.png"
             alt="P(A|B) = [P(A) · P(B|A)] / P(B)"
             class="formula-img" />
      </div>

      <div class="vars-list">
        <ul>
          <li><strong>P(A):</strong> probabilidad previa de la rama A
              (por ejemplo: máquina 1, estar enfermo, equipo 1, etc.).</li>
          <li><strong>P(B | A):</strong> probabilidad de B en la rama A
              (defectuoso en A, prueba positiva en A, etc.).</li>
          <li><strong>P(B | ¬A):</strong> probabilidad de B en la rama ¬A
              (defectuoso en la otra máquina, falso positivo, etc.).</li>
          <li><strong>P(B):</strong> probabilidad total de la evidencia B,
              obtenida sumando las ramas que terminan en B.</li>
          <li><strong>P(A | B):</strong> probabilidad de que el caso
              pertenezca a la rama A dado que ocurrió B.</li>
        </ul>
      </div>
    </section>

    <!-- calculos para el arbolito -->
    <section class="card">
  <h2>Calculadora usando el arbol de probabilidades</h2>
  <p>
    La herramienta calcula <strong>P(A | B)</strong> mediante el teorema de Bayes, representando el proceso con un árbol de dos ramas. 
    La rama <strong>A</strong> y la rama <strong>¬A</strong> simbolizan dos causas o condiciones posibles, mientras que el evento 
    <strong>B</strong> representa la evidencia observada. 
    A partir de las probabilidades ingresadas, se construye automáticamente el árbol y se obtiene la probabilidad posterior de 
    <strong>A dado B</strong>.
  </p>

  <p>
    Ingresa las probabilidades en forma decimal (entre 0 y 1):
  </p>

  <div class="form-row">
    <div class="field-group">
      <label for="bayes-PA">P(A) — probabilidad previa de la rama A</label>
      <input type="number" id="bayes-PA" min="0" max="1" step="0.0001"
             placeholder="Ej. 0.40" />
    </div>
    <div class="field-group">
      <label for="bayes-PB_dado_A">P(B | A) — probabilidad de B en la rama A</label>
      <input type="number" id="bayes-PB_dado_A" min="0" max="1" step="0.0001"
             placeholder="Ej. 0.02 (defecto de A)" />
    </div>
    <div class="field-group">
      <label for="bayes-PB_dado_notA">P(B | ¬A) — probabilidad de B en la rama ¬A</label>
      <input type="number" id="bayes-PB_dado_notA" min="0" max="1" step="0.0001"
             placeholder="Ej. 0.03 (defecto en B)" />
    </div>

    <button class="btn-calc" type="button" onclick="calcularBayes()">
      Calcular P(A | B)
    </button>
  </div>

  <p id="bayes-resultado" class="resultado"></p>

  <h3>Árbol de probabilidades</h3>
  <div id="bayes-tree" class="bayes-tree" style="display: none;">
    <div class="tree-row">
      <div class="tree-node root">Inicio</div>
    </div>

    <div class="tree-row">
      <div class="tree-node">
        A<br />
        <span id="tree-PA"></span>
      </div>
      <div class="tree-node">
        ¬A<br />
        <span id="tree-PnotA"></span>
      </div>
    </div>

    <div class="tree-row">
      <!-- ramas a -->
      <div class="tree-node">
        B<br />
        <span id="tree-PB_given_A"></span><br />
        A ∧ B<br />
        <span id="tree-PAB"></span>
      </div>
      <div class="tree-node">
        ¬B<br />
        <span id="tree-PnotB_given_A"></span><br />
        A ∧ ¬B<br />
        <span id="tree-PA_notB"></span>
      </div>

      <!-- ramas extra -->
      <div class="tree-node">
        B<br />
        <span id="tree-PB_given_notA"></span><br />
        ¬A ∧ B<br />
        <span id="tree-PnotA_B"></span>
      </div>
      <div class="tree-node">
        ¬B<br />
        <span id="tree-PnotB_given_notA"></span><br />
        ¬A ∧ ¬B<br />
        <span id="tree-PnotA_notB"></span>
      </div>
    </div>
  </div>
</section>


  </main>

  <footer class="footer">
    <p>Proyecto final de Estadística I · 2025</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
